–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –≤—ã–ø–æ–ª–Ω–∏–º –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ø—É–Ω–∫—Ç–∞ 5.
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –ø–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ ASP.NET Core (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Razor Pages –∏–ª–∏ MVC).

---

üìå 5.1 –†—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

5.1.1 –†—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π –º–æ–¥–µ–ª–∏

–î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ [Display] –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –º–æ–¥–µ–ª–µ–π –°–µ–∞–Ω—Å –∏ –ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å:

```csharp
public class –°–µ–∞–Ω—Å
{
    [Display(Name = "–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞")]
    public string FilmName { get; set; }

    [Display(Name = "–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è")]
    public DateTime StartTime { get; set; }

    [Display(Name = "–ó–∞–ª")]
    public int HallId { get; set; }
    
    public virtual Hall? Hall { get; set; }
}

public class –ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å
{
    [Display(Name = "–§–ò–û")]
    public string FullName { get; set; }

    [Display(Name = "Email")]
    public string Email { get; set; }
}
```

---

5.1.2 –†—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –∏ —Å—Å—ã–ª–æ–∫

–í —Ñ–∞–π–ª–∞—Ö .cshtml –∑–∞–º–µ–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–µ:

```html
<input type="submit" value="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" class="btn btn-primary" />

<a asp-page="./Index">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
```

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ctrl+H –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∑–∞–º–µ–Ω—ã.

---

üìå 5.2 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü

5.2.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤

–í –º–æ–¥–µ–ª—å –ó–∞–ª –¥–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è:

```csharp
public class Hall
{
    public int Id { get; set; }
    public string Number { get; set; }
    public int CinemaId { get; set; }
    public virtual Cinema? Cinema { get; set; }

    [Display(Name = "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä –∏ –∑–∞–ª")]
    public string CinemaAndNumber => $"{Cinema?.Name} - –ó–∞–ª {Number}";
}
```

---

5.2.2 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

–í Index.cshtml –¥–ª—è —Å–µ–∞–Ω—Å–æ–≤:

```razor
@foreach (var item in Model.SeansList)
{
    <tr>
        <td>@item.FilmName</td>
        <td>@item.Hall?.CinemaAndNumber</td>
        <td>@item.StartTime.ToString("dd.MM.yyyy HH:mm")</td>
    </tr>
}
```

---

5.2.3 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–∞—Ö

–í Create.cshtml.cs –∏–ª–∏ Edit.cshtml.cs:

```csharp
public async Task<IActionResult> OnGetAsync()
{
    ViewData["HallId"] = new SelectList(_context.Halls.Include(h => h.Cinema), 
                                         "Id", 
                                         "CinemaAndNumber");
    return Page();
}
```

---

üìå 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–î–µ–ª–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏:

```csharp
public class –°–µ–∞–Ω—Å
{
    public int Id { get; set; }
    public int HallId { get; set; }
    public virtual Hall? Hall { get; set; }  // <- –¥–æ–±–∞–≤–ª–µ–Ω ?
}
```

–í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ OnPost:

```csharp
public async Task<IActionResult> OnPostAsync()
{
    ModelState.Remove("–°–µ–∞–Ω—Å.Hall");
    
    if (!ModelState.IsValid)
    {
        return Page();
    }
    
    // —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
}
```

---

üìå 5.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

5.4.1 –°–º–µ–Ω–∞ –ª–æ–∫–∞–ª–∏

–í Program.cs:

```csharp
var culture = new CultureInfo("ru-RU");
culture.NumberFormat.NumberDecimalSeparator = ".";
CultureInfo.DefaultThreadCurrentCulture = culture;
CultureInfo.DefaultThreadCurrentUICulture = culture;
```

---

5.4.2 –°–º–µ–Ω–∞ —Å—Ç–∏–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–í –º–æ–¥–µ–ª–∏:

```csharp
[DataType(DataType.Currency)]
[Display(Name = "–¶–µ–Ω–∞ –±–∏–ª–µ—Ç–∞")]
public decimal Price { get; set; }

[DataType(DataType.MultilineText)]
[Display(Name = "–û–ø–∏—Å–∞–Ω–∏–µ")]
public string Description { get; set; }
```

–í .cshtml:

```html
<input asp-for="StartTime" type="date" class="form-control" />
<input asp-for="Password" type="password" class="form-control" />
```

---

üìå 5.5 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Å —Ä—É—Å—Å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:

```csharp
[Required(ErrorMessage = "–ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è")]
[StringLength(100, MinimumLength = 3, 
              ErrorMessage = "–î–ª–∏–Ω–∞ {0} –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç {2} –¥–æ {1} —Å–∏–º–≤–æ–ª–æ–≤")]
public string FilmName { get; set; }

[Range(0.01, 10000.00, ErrorMessage = "–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç {1} –¥–æ {2}")]
public decimal Price { get; set; }

[EmailAddress(ErrorMessage = "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å")]
public string Email { get; set; }

[Phone(ErrorMessage = "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")]
public string Phone { get; set; }
```

---

‚úÖ 6. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ø.5 (–∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ).
2. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (—Å–º. –Ω–∏–∂–µ).

---

‚ùì 8. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–∫—Ä–∞—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã)

8.1 ‚Äî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é [Display(Name = "...")] —É —Å–≤–æ–π—Å—Ç–≤ –º–æ–¥–µ–ª–∏.

8.2 ‚Äî –ß–µ—Ä–µ–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –º–æ–¥–µ–ª–∏ –∏ SelectList –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.

8.3 ‚Äî –ß–µ—Ä–µ–∑ ErrorMessage –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

8.4 ‚Äî Required, StringLength, Range, RegularExpression, EmailAddress, Phone.

8.5 ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —è –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–µ–π, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
